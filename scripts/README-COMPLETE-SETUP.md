# ุฏููู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ููุถุญ ููููุฉ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงููุฉ ููุธุงู ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุจุงุณุชุฎุฏุงู ููู `complete-setup.sql` ุงููุงุญุฏ.

## ๐ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุดุฑูุน Supabase

1. ุงุฐูุจ ุฅูู [supabase.com](https://supabase.com)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ุงุญุตู ุนูู ุงูููุงุชูุญ ุงููุทููุจุฉ:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `SUPABASE_SERVICE_ROLE_KEY`

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

ุฃุถู ุงูููุงุชูุญ ุฅูู ููู `.env.local`:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

### ุงูุฎุทูุฉ 3: ุฅูุดุงุก ุงููุณุชุฎุฏููู ูู Authentication

ุงุฐูุจ ุฅูู **Authentication > Users** ูู Supabase ูุฃุถู:

#### ุงูููุฑุงุช (10 ูุณุชุฎุฏููู):
```
Email: ููุฑ1@hospital.com
Password: 311

Email: ููุฑ2@hospital.com  
Password: 342

Email: ููุฑ3@hospital.com
Password: 353

Email: ููุฑ4@hospital.com
Password: 364

Email: ููุฑ5@hospital.com
Password: 375

Email: ููุฑ6@hospital.com
Password: 386

Email: ููุฑ7@hospital.com
Password: 397

Email: ููุฑ8@hospital.com
Password: 408

Email: ููุฑ9@hospital.com
Password: 419

Email: ููุฑ10@hospital.com
Password: 420
```

#### ุงููุฏูุฑูู (2 ูุณุชุฎุฏููู):
```
Email: ุงููุฎุฒู@hospital.com
Password: 932

Email: hr@hospital.com
Password: 237
```

### ุงูุฎุทูุฉ 4: ุงูุญุตูู ุนูู UUIDs

1. ุงุฐูุจ ุฅูู **Table Editor > auth.users**
2. ุงูุณุฎ UUID ููู ูุณุชุฎุฏู
3. ุงุณุชุจุฏู UUIDs ูู ููู `complete-setup.sql`

### ุงูุฎุทูุฉ 5: ุชุดุบูู ุงูุณูุฑูุจุช ุงููุงูู

1. ุงุฐูุจ ุฅูู **SQL Editor** ูู Supabase
2. ุงูุณุฎ ูุญุชูู ููู `complete-setup.sql`
3. ุงุณุชุจุฏู UUIDs ุจุงูุฃุฑูุงู ุงููุนููุฉ
4. ุดุบู ุงูุณูุฑูุจุช

## ๐ ุงูุฌุฏุงูู ุงูููุดุฃุฉ

### 1. **profiles** - ุจุฑููุงููุงุช ุงููุณุชุฎุฏููู
- `id` - ูุนุฑู ุงููุณุชุฎุฏู (ูุฑุชุจุท ุจู auth.users)
- `name` - ุงุณู ุงููุณุชุฎุฏู
- `department` - ุงููุณู
- `role` - ุงูุฏูุฑ (worker, warehouse, hr)

### 2. **inventory** - ุงููุฎุฒูู
- `id` - ูุนุฑู ุงูุนูุตุฑ
- `name` - ุงุณู ุงูุนูุตุฑ
- `quantity` - ุงููููุฉ
- `created_at` - ุชุงุฑูุฎ ุงูุฅูุดุงุก
- `updated_at` - ุชุงุฑูุฎ ุงูุชุญุฏูุซ

### 3. **requests** - ุงูุทูุจุงุช
- `id` - ูุนุฑู ุงูุทูุจ
- `user_id` - ูุนุฑู ุงููุณุชุฎุฏู ุงูุทุงูุจ
- `type` - ููุน ุงูุทูุจ (warehouse, hr)
- `item_name` - ุงุณู ุงูุนูุตุฑ ุงููุทููุจ
- `quantity` - ุงููููุฉ ุงููุทููุจุฉ
- `urgent` - ุนุงุฌู ุฃู ูุง
- `notes` - ููุงุญุธุงุช
- `status` - ุญุงูุฉ ุงูุทูุจ
- `response_notes` - ููุงุญุธุงุช ุงูุฑุฏ

### 4. **expiring_items** - ุงูููุงุฏ ููุชููุฉ ุงูุตูุงุญูุฉ
- `id` - ูุนุฑู ุงูุนูุตุฑ
- `name` - ุงุณู ุงูุนูุตุฑ
- `expiry_date` - ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ
- `location` - ุงููููุน
- `notes` - ููุงุญุธุงุช

### 5. **messages** - ุงูุฑุณุงุฆู
- `id` - ูุนุฑู ุงูุฑุณุงูุฉ
- `from_user` - ุงููุฑุณู
- `to_user` - ุงููุณุชูู
- `subject` - ุงูููุถูุน
- `content` - ุงููุญุชูู
- `priority` - ุงูุฃููููุฉ
- `read` - ููุฑูุกุฉ ุฃู ูุง

### 6. **notifications** - ุงูุฅุดุนุงุฑุงุช
- `id` - ูุนุฑู ุงูุฅุดุนุงุฑ
- `user_id` - ูุนุฑู ุงููุณุชุฎุฏู
- `title` - ุงูุนููุงู
- `message` - ุงูุฑุณุงูุฉ
- `type` - ููุน ุงูุฅุดุนุงุฑ
- `read` - ููุฑูุก ุฃู ูุง

### 7. **activity_log** - ุณุฌู ุงููุดุงุทุงุช
- `id` - ูุนุฑู ุงููุดุงุท
- `user_id` - ูุนุฑู ุงููุณุชุฎุฏู
- `action` - ุงูุนูููุฉ
- `details` - ุงูุชูุงุตูู

## ๐ ุงูุณูุงุณุงุช ุงูุฃูููุฉ

### Row Level Security (RLS)
ุชู ุชูุนูู RLS ุนูู ุฌููุน ุงูุฌุฏุงูู ูุน ุงูุณูุงุณุงุช ุงูุชุงููุฉ:

- **profiles**: ุงููุณุชุฎุฏููู ูุฑูู ููุญุฏุซูู ุจุฑููุงููุงุชูู ููุท
- **inventory**: ุงูุฌููุน ูุฑููุ ููุท warehouse ู hr ูุนุฏููู
- **requests**: ุงูููุฑุงุช ูุฑูู ุทูุจุงุชููุ warehouse ู hr ูุฑูู ุงูุฌููุน
- **messages**: ุงููุณุชุฎุฏููู ูุฑูู ุฑุณุงุฆููู ููุท
- **notifications**: ุงููุณุชุฎุฏููู ูุฑูู ุฅุดุนุงุฑุงุชูู ููุท
- **activity_log**: ุงูุฌููุน ูุฑูู ุณุฌู ุงููุดุงุทุงุช

## ๐ ุงูููุงุฑุณ ุงููุญุณูุฉ

ุชู ุฅูุดุงุก ููุงุฑุณ ูุชุญุณูู ุงูุฃุฏุงุก:
- `idx_profiles_role` - ููุจุญุซ ุญุณุจ ุงูุฏูุฑ
- `idx_requests_status` - ููุจุญุซ ุญุณุจ ุญุงูุฉ ุงูุทูุจ
- `idx_inventory_name` - ููุจุญุซ ูู ุงููุฎุฒูู
- `idx_messages_from_user` - ููุฑุณุงุฆู ุงููุฑุณูุฉ
- `idx_messages_to_user` - ููุฑุณุงุฆู ุงููุณุชููุฉ
- `idx_notifications_user_id` - ูุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู
- `idx_activity_log_user_id` - ููุดุงุทุงุช ุงููุณุชุฎุฏู
- `idx_expiring_items_date` - ููููุงุฏ ููุชููุฉ ุงูุตูุงุญูุฉ

## ๐ Triggers ูุงูุฏูุงู

### ุฏุงูุฉ `update_updated_at_column()`
ุชุญุฏุซ `updated_at` ุชููุงุฆูุงู ุนูุฏ ุชุญุฏูุซ ุฃู ุณุฌู

### Triggers ุงูููุดุฃุฉ:
- `update_requests_updated_at`
- `update_inventory_updated_at`
- `update_expiring_items_updated_at`
- `update_messages_updated_at`
- `update_notifications_updated_at`
- `update_activity_log_updated_at`

## ๐ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ

### ุงููุฎุฒูู ุงูุงูุชุฑุงุถู:
- ุฃููุงู ุญุจุฑ ุฌุงู (100)
- ูุฑู A4 (50)
- ุฏุจุงุณุฉ (25)
- ูุดุงุจู ูุฑู (200)
- ุฃููุงู ุฑุตุงุต (75)
- ููุญุงุฉ (30)
- ููุต (15)
- ุดุฑูุท ูุงุตู (40)
- ูููุงุช (60)
- ุฃุธุฑู (80)
- ููุงุฒุงุช ุทุจูุฉ (500)
- ููุงูุงุช (300)
- ูุทูุฑุงุช (50)
- ุถูุงุฏุงุช (200)
- ุญูู (150)

### ุจูุงูุงุช ุชุฌุฑูุจูุฉ:
- ุฑุณุงุฆู ุชุฌุฑูุจูุฉ ุจูู ุงููุณุชุฎุฏููู
- ุฅุดุนุงุฑุงุช ุชุฌุฑูุจูุฉ
- ุณุฌู ูุดุงุทุงุช ุชุฌุฑูุจูุฉ

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

ุจุนุฏ ุชุดุบูู ุงูุณูุฑูุจุชุ ุงุฎุชุจุฑ:

1. **ุชุณุฌูู ุงูุฏุฎูู:**
   ```
   ููุฑ 1 / 311
   ููุฑ 2 / 342
   ...
   ุงููุฎุฒู / 932
   hr / 237
   ```

2. **ุงููุตูู ููุตูุญุงุช:**
   - ุงูููุฑุงุช โ ุตูุญุฉ ุงูููุฑุงุช
   - ุงููุฎุฒู โ ุตูุญุฉ ุงููุฎุฒู
   - HR โ ุตูุญุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ

3. **ุฅูุดุงุก ุทูุจุงุช:**
   - ุงูููุฑุงุช ูููููู ุฅูุดุงุก ุทูุจุงุช
   - ุงููุฎุฒู ู HR ูููููู ุงูููุงููุฉ/ุฑูุถ ุงูุทูุจุงุช

4. **ุฅุฏุงุฑุฉ ุงููุฎุฒูู:**
   - ุงููุฎุฒู ู HR ูููููู ุชุนุฏูู ุงููุฎุฒูู
   - ุงูุฌููุน ูููููู ุฑุคูุฉ ุงููุฎุฒูู

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ูุจู ุงูุชุดุบูู:
- โ ุชุฃูุฏ ูู ุฅูุดุงุก ุงููุณุชุฎุฏููู ูู Authentication
- โ ุงุญุตู ุนูู UUIDs ูู ุฌุฏูู auth.users
- โ ุงุณุชุจุฏู UUIDs ูู ุงูุณูุฑูุจุช
- โ ุชุฃูุฏ ูู ุตุญุฉ ุงูููุงุชูุญ ูู .env.local

### ุจุนุฏ ุงูุชุดุบูู:
- โ ุงุฎุชุจุฑ ุชุณุฌูู ุงูุฏุฎูู ูุฌููุน ุงููุณุชุฎุฏููู
- โ ุงุฎุชุจุฑ ุงููุตูู ููุตูุญุงุช ุงููุฎุชููุฉ
- โ ุงุฎุชุจุฑ ุฅูุดุงุก ุงูุทูุจุงุช
- โ ุงุฎุชุจุฑ ุฅุฏุงุฑุฉ ุงููุฎุฒูู
- โ ุงุฎุชุจุฑ ูุธุงู ุงูุฑุณุงุฆู ูุงูุฅุดุนุงุฑุงุช

### ูู ุญุงูุฉ ุงูุฃุฎุทุงุก:
- ๐ ุชุญูู ูู console ูู ุงููุชุตูุญ
- ๐ ุฑุงุฌุน logs ูู Supabase
- ๐ ุชุฃูุฏ ูู ุตุญุฉ RLS policies
- ๐ ุชุญูู ูู ูุฌูุฏ ุฌููุน ุงูุฌุฏุงูู

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุญูู ูู **Logs** ูู Supabase
2. ุฑุงุฌุน **Authentication > Users**
3. ุชุญูู ูู **Table Editor** ููุชุฃูุฏ ูู ูุฌูุฏ ุงูุฌุฏุงูู
4. ุงุฎุชุจุฑ **SQL Editor** ููุชุฃูุฏ ูู ุตุญุฉ ุงูุณูุงุณุงุช

## ๐ ุงููุณุงุนุฏุฉ

ูููุณุงุนุฏุฉ ุงูุฅุถุงููุฉ:
- ุฑุงุฌุน ูููุงุช README ุงูุฃุฎุฑู ูู ูุฌูุฏ scripts
- ุชุญูู ูู console ูู ุงููุชุตูุญ ููุฃุฎุทุงุก
- ุฑุงุฌุน logs ูู Supabase ูููุดุงูู 